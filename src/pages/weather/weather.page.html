<section class="p-3">
    <h2 class="text-center w-100" cy-name="title">{{ title }} Chart</h2>
    
    <ng-container *ngIf="weatherData$ | async as weatherData; else showLoading">
        <div class="d-flex w-100 justify-content-center">
            <app-weather-chart 
                    cy-name="weather-chart"
                    label="Temperature (Â°F)" 
                    [color]="chartLinesColor"
                    [weatherData]="weatherData" 
                    (onTooltipClick)="showDetails($event)"></app-weather-chart>
        </div>    
        
        <div *ngIf="selectedWeather">
            <app-weather-forecast-details-card [weather]="selectedWeather"></app-weather-forecast-details-card>
        </div>
    </ng-container>
    

    <ng-template #showLoading>
        <app-loading 
            cy-name="loading-spinner"
            [label]="'Loading datasets'"></app-loading>   
    </ng-template>
    
</section>
